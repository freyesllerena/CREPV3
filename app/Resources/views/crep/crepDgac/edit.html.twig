{% extends "crep/crepDgac/dgac.base.html.twig" %}

{# {% form_theme form 'crep/crepMj01/Form/App_form_crepMj01.html.twig' %}#}

{% block accueil %}
{% endblock %}

{% block campagne %} active
{% endblock %}
{% block
content %} {{ block('alertErreurValidationFormulaireCrep') }} {{
form_start(form, {'attr': {'novalidate': 'novalidate', 'class':
'form-horizontal'}}) }} {{ parent() }} {{ block('bouton_enregistrer') }}
{{ form_widget(form._token) }} {{ form_end(form, {'render_rest': false}) }}
{% endblock content %}

{% block i01 %}
    {% include 'crep/crepDgac/_include/edit/0/1.html.twig' %}
{% endblock i01 %}

{% block i02 %}
    {% include 'crep/crepDgac/_include/edit/0/2.html.twig' %}
{% endblock i02 %}

{% block i1 %}
    {% include 'crep/crepDgac/_include/edit/i/1.html.twig' %}
{% endblock i1 %}

{% block i2 %}
    {% include 'crep/crepDgac/_include/edit/i/2.html.twig' %}
{% endblock i2 %}

{% block i3 %} 
    {% include 'crep/crepDgac/_include/edit/i/3.1.html.twig' %}
    {% include 'crep/crepDgac/_include/edit/i/3.2.html.twig' %}
{% endblock i3 %} 

{% block ii1 %}
    {% include 'crep/crepDgac/_include/edit/ii/1.html.twig' %}
{% endblock ii1 %}

{% block ii2 %}
    {% include 'crep/crepDgac/_include/edit/ii/2.html.twig' %}
{% endblock ii2 %}

{% block iii1 %}
    {% include 'crep/crepDgac/_include/edit/iii/1.html.twig' %}
{% endblock iii1 %}

{% block iii2 %}
    {% include 'crep/crepDgac/_include/edit/iii/2.1.html.twig' %}
    {% include 'crep/crepDgac/_include/edit/iii/2.2.html.twig' %}
{% endblock iii2 %}

{% block iv1 %}
    {% include 'crep/crepDgac/_include/edit/iv/1.html.twig' %}
{% endblock iv1 %}

{% block iv2 %}
    {% include 'crep/crepDgac/_include/edit/iv/2.1.html.twig' %}
    {% include 'crep/crepDgac/_include/edit/iv/2.2.html.twig' %}
{% endblock iv2 %}

{% block v1 %}
    {% include 'crep/crepDgac/_include/edit/v/1.html.twig' %}
{% endblock v1 %}

{% block v2 %}
    {% include 'crep/crepDgac/_include/edit/v/2.html.twig' %}
{% endblock v2 %}

{% block v3 %}
    {% include 'crep/crepDgac/_include/edit/v/3.html.twig' %}
{% endblock v3 %}

{% block v4 %}
 {% include 'crep/crepDgac/_include/edit/v/4.html.twig' %}
{% endblock v4 %}

{% block v5 %}
    {% include 'crep/crepDgac/_include/edit/v/5.html.twig' %}
{% endblock v5 %}

{% block v6 %}
 {% include 'crep/crepDgac/_include/edit/v/6.html.twig' %}
{% endblock v6 %}

{% block vi1 %}
 {% include 'crep/crepDgac/_include/edit/vi/1.html.twig' %}
{% endblock vi1 %}

{% block vi2 %}
    {% include 'crep/crepDgac/_include/edit/vi/2.html.twig' %}
{% endblock vi2 %}

{% block vii1 %}
    {% include 'crep/crepDgac/_include/edit/vii/1.html.twig' %}
{% endblock vii1 %}

{# {% block vi1 %} {% include#}
{# 'crep/crepDgac/_include/edit/vi/1.html.twig' %} {% endblock vi1 %}#}
{# {% block vi2 %} {% include#}
{# 'crep/crepDgac/_include/edit/vi/2.html.twig' %} {% endblock vi2 %}#}
{# {% block vi3 %} {% include#}
{# 'crep/crepDgac/_include/edit/vi/3.html.twig' %} {% endblock vi3 %}#}
 {# {%
block ii2 %} {% include 'crep/crepMj01/_include/edit/ii/2.html.twig' %}
{% endblock ii2 %} {% block ii3 %} {% include
'crep/crepMj01/_include/edit/ii/3.html.twig' %} {% endblock ii3 %} {%
block ii4 %} {% include 'crep/crepMj01/_include/edit/ii/4.html.twig' %}
{% endblock ii4 %} {% block ii5 %} {% include
'crep/crepMj01/_include/edit/ii/5.html.twig' %} {% endblock ii5 %} {%
block iii1 %} {% include 'crep/crepMj01/_include/edit/iii/1.html.twig'
%} {% endblock iii1 %} {% block iii2 %} {% include
'crep/crepMj01/_include/edit/iii/2.html.twig' %} {% endblock iii2 %} {%
block iii3 %} {% include 'crep/crepMj01/_include/edit/iii/3.html.twig'
%} {% endblock iii3 %} {% block iii4 %} {% include
'crep/crepMj01/_include/edit/iii/4.html.twig' %} {% endblock iii4 %} {%
block iii5 %} {% include 'crep/crepMj01/_include/edit/iii/5.html.twig'
%} {% endblock iii5 %} {% block iv1 %} {% include
'crep/crepMj01/_include/edit/iv/1.html.twig' %} {% endblock iv1 %} {%
block iv2 %} {% include 'crep/crepMj01/_include/edit/iv/2.html.twig' %}
{% endblock iv2 %} {% block iv3 %} {% include
'crep/crepMj01/_include/edit/iv/3.html.twig' %} {% endblock iv3 %} {%
block iv4 %} {% include 'crep/crepMj01/_include/edit/iv/4.html.twig' %}
{% endblock iv4 %} {% block v1 %} {% include
'crep/crepMj01/_include/edit/v/1.html.twig' %} {% endblock v1 %} {%
block v2 %} {% include 'crep/crepMj01/_include/edit/v/2.html.twig' %} {%
endblock v2 %} {% block v3 %} {% include
'crep/crepMj01/_include/edit/v/3.html.twig' %} {% endblock v3 %} {%
block v4 %} {% include 'crep/crepMj01/_include/edit/v/4.html.twig' %} {%
endblock v4 %} {% block vi1 %} {% include
'crep/crepMj01/_include/edit/vi/1.html.twig' %} {% endblock vi1 %} {%
block vii1 %} {% include 'crep/crepMj01/_include/edit/vii/1.html.twig'
%} {% endblock vii1 %} {% block viii1 %} {% include
'crep/crepMj01/_include/edit/viii/1.html.twig' %} {% endblock viii1 %}

{% block viii2 %} {% include
'crep/crepMj01/_include/edit/viii/2.html.twig' %} {% endblock viii2 %}

{% block viii3 %} {% include
'crep/crepMj01/_include/edit/viii/3.html.twig' %} {% endblock viii3 %}

{% block viii4 %} {% include
'crep/crepMj01/_include/edit/viii/4.html.twig' %} {% endblock viii4 %}
#} {% block circuitDeValidation %} {% endblock circuitDeValidation %} {%
block javascripts %} {{ parent() }}
<!-- chained -->
<script src="{{ asset('js/chained.js') }}"></script>
<script type="text/javascript">

        $(document).ready(function () {
            // Cette ligne sert à initialiser les collections, et doit nécessairement être en début du ready.
            // Dans le cas contraire, une erreur dans le JS empêcherait les collections de fonctionner
            var crepCollections = new Crep.Collections();
            

            // VII Formations suivies lors de l'année écoulée
            var demarrageMobilite = $("#crep_dgac_demarrageMobiliteSouhaitee");
            var asouhitMobilite = $("#crep_dgac_souhaitMobilite");
            var mobilitePoste01 = $("#mobilite-poste-01");
            var mobilitePoste02 = $("#mobilite-poste-02");
            
            if (asouhitMobilite) {
                if ($(asouhitMobilite).attr('checked')) {
                    demarrageMobilite.show();
                    mobilitePoste01.show();
                    mobilitePoste02.show();
                } else {
                    demarrageMobilite.hide();
                    mobilitePoste01.hide();
                    mobilitePoste02.hide();
                }
            }
            
            //
            asouhitMobilite.on('ifChanged', function(){
                var div1 = asouhitMobilite.parent();
                
                if (div1.prevObject[0].checked == true) {
                    demarrageMobilite.show();
                    mobilitePoste01.show();
                    mobilitePoste02.show();
                } else {
                    demarrageMobilite.hide();
                    mobilitePoste01.hide();
                    mobilitePoste02.hide();
                    // démarrage
                    var allItems = jQuery(demarrageMobilite).find('div').find('div').find(':radio');
                    var idsRadio = [];

                    $.each( allItems, function( key, value ) {
                        idsRadio[key] = value.id;
                    });

                    for (var i = 0; i < idsRadio.length; i++) {
                        $( "#"+idsRadio[i] ).removeAttr('checked');
                        $( "#"+idsRadio[i] ).parent().removeClass('checked');
                    }
                    // mobilitePoste01
                    var allItems01 = jQuery(mobilitePoste01).find('div').find('div').find(':checkbox');
                    var idsCheckbox01 = [];

                    $.each( allItems01, function( key, value ) {
                        idsCheckbox01[key] = value.id;
                    });

                    for (var i = 0; i < idsCheckbox01.length; i++) {
                        $( "#"+idsCheckbox01[i] ).removeAttr('checked');
                        $( "#"+idsCheckbox01[i] ).parent().removeClass('checked');
                    }
                    // mobilitePoste02
                    var allItems02 = jQuery(mobilitePoste02).find('div').find('div').find(':checkbox');
                    var idsCheckbox02 = [];

                    $.each( allItems02, function( key, value ) {
                        idsCheckbox02[key] = value.id;
                    });

                    for (var i = 0; i < idsCheckbox02.length; i++) {
                        $( "#"+idsCheckbox02[i] ).removeAttr('checked');
                        $( "#"+idsCheckbox02[i] ).parent().removeClass('checked');
                    }
                }
            });
        });
    </script>

{% endblock javascripts %}
