{% form_theme form 'crep/crepMcc02/Form/collections.form.html.twig' %}

{% set exceptionnellesCompetences = form.competencesActions | length %}
<br>
{# Competences Action #}
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th class="text-center">Compétences liées à l'action</th>
                <th class="text-center" width="100px">Exceptionnelle*</th>
                <th class="text-center" width="100px">Forte</th>
                <th class="text-center" width="100px">Assez forte</th>
                <th class="text-center" width="100px">À développer</th>
                <th class="text-center" width="100px">Non observée</th>
            </tr>
            </thead>
            <tbody>
            {% for competence in form.competencesActions %}
                <tr>
                    <td>
                        {{ crep.competencesActions[loop.index0].libelle }}
                    </td>
                    {{ form_widget(competence) }}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-12 col-sm-12 col-xs-12">
        <label>observations liées à l'action :</label>
        {{ form_row(form.observationsCompetencesActions, { 'label': false}) }}
    </div>
</div>
<br>
{# Competences Relation #}
<div class="row" id="competencesRelationsCollection" data-prototype="{{ form_widget(form.competencesRelations.vars.prototype)|e('html_attr') }}">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th class="text-center">Compétences liées à la relation</th>
                <th class="text-center" width="100px">Exceptionnelle*</th>
                <th class="text-center" width="100px">Forte</th>
                <th class="text-center" width="100px">Assez forte</th>
                <th class="text-center" width="100px">À développer</th>
                <th class="text-center" width="100px">Non observée</th>
            </tr>
            </thead>
            <tbody>
            {% set iniCompetenceRelation = ['Force de conviction (leadership)','Capacité à conduire le changement ', 'Écoute ', 'Capacité à développer les compétences et à déléguer ', 'Capacité à communiquer ', 'Capacité à coopérer avec l’environnement' , 'Capacité à conseiller '] %}
            {% for competence in form.competencesRelations %}
                <tr>
                    <td>
                        {% if loop.index0 in crep.competencesRelations|keys %}
                            {{ crep.competencesRelations[loop.index0].libelle }}
                        {% endif %}
                    </td>
                    {{ form_widget(competence) }}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-12 col-sm-12 col-xs-12">
        <label>observations liées à la relation :</label>
        {{ form_row(form.observationsCompetencesRelations, { 'label': false}) }}
    </div>
</div>
<br>
{# Competences Situation #}
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th class="text-center">Compétences liées à l’intelligence des situations</th>
                <th class="text-center" width="100px">Exceptionnelle*</th>
                <th class="text-center" width="100px">Forte</th>
                <th class="text-center" width="100px">Assez forte</th>
                <th class="text-center" width="100px">À développer</th>
                <th class="text-center" width="100px">Non observée</th>
            </tr>
            </thead>
            <tbody>
            {% for competence in form.competencesSituations %}
                <tr>
                    <td>
                        {{ crep.competencesSituations[loop.index0].libelle }}
                    </td>
                    {{ form_widget(competence) }}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-12 col-sm-12 col-xs-12">
        <label>observations liées à l’intelligence des situations :</label>
        {{ form_row(form.observationsCompetencesSituations, { 'label': false}) }}
    </div>
</div>
<br>

<div>
    <div class="col-md-12 col-sm-12 col-xs-12">
        <span>
            * Au total, le nombre de croix figurant dans la colonne « exceptionnelle » de ces 3 tableaux des compétences managériales ne doit pas dépasser 5. Chaque croix « exceptionnelle » doit être motivée dans la colonne « observations».
        </span>
    </div>
</div>
<br>
<br>
<br>
